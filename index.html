<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>aa243 - something about aa243</title><meta name="author" content="aa243"><meta name="copyright" content="aa243"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Shoot for the moon; even if you miss, you will land among the stars.">
<meta property="og:type" content="website">
<meta property="og:title" content="aa243">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="aa243">
<meta property="og:description" content="Shoot for the moon; even if you miss, you will land among the stars.">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/avatar.jpg">
<meta property="article:author" content="aa243">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/avatar.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'aa243',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2021-12-24 18:32:28'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/background.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">aa243</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> List</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> Movie</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> Link</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> About</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">aa243</h1></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/12/24/NOIP2021/" title="NOIP2021">     <img class="post_bg" src="/img/cover/13.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NOIP2021"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/12/24/NOIP2021/" title="NOIP2021">NOIP2021</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-12-24T10:00:00.000Z" title="发表于 2021-12-24 18:00:00">2021-12-24</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/OI/">OI</a></span></div><div class="content">NOIP 2021写这篇文章时距离 NOIP 结束大概已经有两个多礼拜了。该出的成绩也都出来了，写这篇文章一方面是对之前的 OI 生涯的一些总结，另一方面也是对自己未来的一些展望。
因为 CSP-S 考的还不错，NOIP 前停课了一个多礼拜。长时间一个人呆在家里做题，其实是一件挺累的事情。加上模拟赛又越打越烂，可能到 NOIP 前的几天自己都不太有斗志了，做题量也从第一天的一天八道题变成最后几天的一天三四道。现在想想，停课到底是起了正面还是负面作用也很难说，不过总归是一段不受干扰可以只做自己的事情的经历。
在考场外面等着进去的时候还是挺开心的，因为发现自己的考场里都是那些省队的大佬，难免产生一种自己也已经可以名列其中的错觉。然而之后的 NOIP 很快就把我拖回了现实。第一题想到了正解结果去打了另一个很扯淡的解法，大概在大样例上调了一个小时才发现做法假了，然后再回来做正解，大概两个小时的时候才做完第一题。做完后出去上了趟厕所，感觉心态已经崩了。回来后就开始神志不清，明知道 T2 的暴力得用状压然后就是不写，试图通过乱搞骗到 T3 的分。结果搞了一个多小时后还是只能过小样例，算法正确性还不 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/11/21/wqs-%E4%BA%8C%E5%88%86/" title="wqs 二分">     <img class="post_bg" src="/img/cover/11.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="wqs 二分"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/11/21/wqs-%E4%BA%8C%E5%88%86/" title="wqs 二分">wqs 二分</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-11-21T07:22:58.000Z" title="发表于 2021-11-21 15:22:58">2021-11-21</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/OI/">OI</a></span></div><div class="content">wqs二分写这样一篇 wqs 二分学习笔记，一方面是在学习 wqs 二分的过程中收获颇多，另一方面是发现网上现有的 wqs 二分的介绍都在一些细节上有所缺漏，想在这里做一些补充。
首先是wqs 二分的适用范围：
有 $n$ 个物品，选择每一个物品都有一个相应的权值，需要求出强制选出 $k$ 个物品时的最大/最小权值和。
对于这种问题，最常规的方法是将 $k$ 这个量放到 dp 的状态中去。但如果有时候这样的空间复杂度和时间复杂度不够优秀，我们就可以尝试使用 wqs 二分。
关于 wqs 二分的基本介绍，可以看这篇博客，这里就不多做说明。
我们知道，wqs 二分的本质是二分斜率，而斜率是一个实数，但我们二分的时候实际上实在整数范围里二分的。这就可能导致出现一种情况，即题目要求取 $k$ 个物品，但整数范围里的斜率切到的点的横坐标都不是 $k$。
我们的一种解决方法是根据需要增加二分的精度（比如二分到小数点后三位），但这样做会增加时间复杂度。实际上，我们可以通过一些小改动来处理这个问题。下面我们以洛谷P5633来讲解这种方法。
题意一张 $N$ 个结点、$M$ 条边的无向图，求最小生成树， ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/10/29/2021CSP-S%E6%B8%B8%E8%AE%B0/" title="2021CSP-S游记">     <img class="post_bg" src="/img/cover/12.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2021CSP-S游记"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/10/29/2021CSP-S%E6%B8%B8%E8%AE%B0/" title="2021CSP-S游记">2021CSP-S游记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-29T15:51:46.000Z" title="发表于 2021-10-29 23:51:46">2021-10-29</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/OI/">OI</a></span></div><div class="content">2021 CSP-S 第二轮游记第一轮考完后的一个月里还没来得及学习什么东西，眼看着洛谷主页上的倒计时一天天变少，CSP-S就这样到来了。
记得考前在实验楼里，我跟春春说，CSP就是暴力大赛，暴力分打满就能拿省一，结果春春考试的时候愣是一个暴力没调出来，然后就愉快地爆零了qwq。
提高组开始是在下午，所以早上还可以复习一会儿以前做过的题目，走之前还看了一集番。大概十一点多就出门了，按照惯例去吃了一顿小杨生煎，然后爸爸开车送我过去。到考场的时候大概离考试开始还有一个半小时，所以先去学校对面的罗森便利店里面坐了一会儿，买了一杯咖啡。
考场跟去年的NOIP考场是一个地方，学校感觉还是那么高级。进机房后发现电脑上面都已经更新到 $win10$ 系统，对我这种人太友好了。开始前打了个快读和 $gcd$ 的板子，结果一个没用到。
考试开始后正常顺序开题。第一题跟去年完全不一样，感觉看上去一点都不签到。大概琢磨了半个小时做法才有了思路，旁边的大佬们都已经开始敲代码了。话说考试的时候这种环境真的挺壮观的，教室里一片敲键盘的声音。第一题其实不难，码量也很友好，大概一个小时的时候就过了大样例了。
第二题基 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/10/10/Luogu-P6018/" title="Fusion Tree 题解">     <img class="post_bg" src="/img/cover/8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Fusion Tree 题解"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/10/10/Luogu-P6018/" title="Fusion Tree 题解">Fusion Tree 题解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-10-10T13:59:46.000Z" title="发表于 2021-10-10 21:59:46">2021-10-10</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/OI/">OI</a></span></div><div class="content">题目在这里
写一篇题解来纪念我自己 ac 的第一道 Ynoi 的题目。
题目分析对于这一类涉及与一个点相邻的所有点的树上问题，有一个常用的 trick 是将父亲结点单独处理。对于这道题，我们查询异或和的时候将子结点的异或和查出来后再异或上父亲结点就可以了。
所以我们的问题变成了：如何维护子结点的异或和？我们来看题目需要支持的两种修改操作：
 1.将与一个点相邻的所有点都加 $1$。
 2.将一个点减去一个值。
很显然第一个操作看上去更加困难一些，所以我们先考虑如何实现第一个操作。
我们发现，当我们把一个数加 $1$ 的时候，如果把这个数看成二进制，那么它改变的仅仅是它最后一个 $0$ 的右边部分（包括这个 $0$）。实际上对一个二进制数加 $1$，就相当于把这个数的最后一个 $0$ 以及它的右边部分全部取反。
当很多个数同时进行上述操作时，我们想到可以用 0-1trie 树来维护。对每个结点分别建一个 trie 树（维护这个结点的所有子结点，注意每个数是倒序插入），如果我们认为左结点对应 $0$，右结点对应 $1$ 的话，每一次操作的时候从当前结点访问右儿子（当然是交换前的右儿子），每 ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/14/Luogu%20P5677/" title="Luogu P5677 配对统计 题解">     <img class="post_bg" src="/img/cover/5.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Luogu P5677 配对统计 题解"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/14/Luogu%20P5677/" title="Luogu P5677 配对统计 题解">Luogu P5677 配对统计 题解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-14T09:13:49.000Z" title="发表于 2021-09-14 17:13:49">2021-09-14</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/OI/">OI</a></span></div><div class="content">题目在 这里。
题目分析我们发现：一个好的配对相当于一个区间（你可能会发现一个配对是有序的，但是这不影响我们将它转化成区间），一次查询就相当于查询有多少个区间被包含在查询的区间内。每个数作为一个好的配对中的 $x$ 最多有 $2$ 个配对，即两个区间，因此区间个数是 $N$ 这个数量级的。
预处理配对的时候只需要将数组排一次序，然后与一个数配对的数一定与它相邻，所以可以 $\mathcal{O}(N\log{N})$ 预处理出来。然后之后的查询可以将预处理好的配对对应的区间和查询的区间分别按照右端点排序。
之后查询的过程可以使用线段树（或者树状数组）维护，这里就不多介绍了。
最后是几点注意事项：

答案需要开 long long！

一定要注意边界条件！不然会顺利地被 hack 掉！


代码12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879 ...</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/09/14/y-fast-trie-1/" title="洛谷卡常记">     <img class="post_bg" src="/img/cover/6.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="洛谷卡常记"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/14/y-fast-trie-1/" title="洛谷卡常记">洛谷卡常记</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-14T09:13:49.000Z" title="发表于 2021-09-14 17:13:49">2021-09-14</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/OI/">OI</a></span></div><div class="content">题目在这里
记录一下这一道因为各种原因调试了四天，最终还是没有 AC 的题目。刚开始的我：简单！维护每个位置的最优匹配，乱搞一下就完事了。
然后在搞了一晚上后，有了下面的代码以及 $10$ 分的优秀结果。
123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118#include&lt;bits/stdc++.h&gt;using namespace std;const int MAXN=500050;int N,C,lst,size;set&lt;pair&lt;int,int&gt; &gt; m;    set&lt;int,greater&lt;int ...</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/01/about-me/" title="markdown test">     <img class="post_bg" src="/img/cover/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="markdown test"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/01/about-me/" title="markdown test">markdown test</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-01T12:31:18.000Z" title="发表于 2021-09-01 20:31:18">2021-09-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/test/">test</a></span></div><div class="content">Here is my first passage edited by Typora.
二级标题三级标题这是一个三级标题
粗体 斜体 以及着重的文字

 已完成的项目
 未完成的项目


引用的一段文字


无序列表1
无序列表2


无序列表可以使用 “-“ 或者 “*”


有序列表1
有序列表2

哦，还有超链接，比如点击这个可以访问 百度
还有图片

</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/09/01/hello-world/" title="Hello World">     <img class="post_bg" src="/img/cover/2.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hello World"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/01/hello-world/" title="Hello World">Hello World</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-01T12:31:18.000Z" title="发表于 2021-09-01 20:31:18">2021-09-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/test/">test</a></span></div><div class="content">Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub.
Quick StartCreate a new post1$ hexo new &quot;My New Post&quot;

More info: Writing
Run server1$ hexo server

More info: Server
Generate static files1$ hexo generate

More info: Generating
Deploy to remote sites1$ hexo deploy

More info: Deployment
</div></div></div><div class="recent-post-item"><div class="post_cover left_radius"><a href="/2021/09/01/test/" title="test">     <img class="post_bg" src="/img/default_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="test"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/01/test/" title="test">test</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-01T12:31:18.000Z" title="发表于 2021-09-01 20:31:18">2021-09-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/test/">test</a></span></div><div class="content">这是一个测试文档
</div></div></div><div class="recent-post-item"><div class="post_cover right_radius"><a href="/2021/09/01/Luogu%20P4785/" title="洛谷P4785 交换 题解">     <img class="post_bg" src="/img/cover/3.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="洛谷P4785 交换 题解"></a></div><div class="recent-post-info"><a class="article-title" href="/2021/09/01/Luogu%20P4785/" title="洛谷P4785 交换 题解">洛谷P4785 交换 题解</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-09-01T12:31:18.000Z" title="发表于 2021-09-01 20:31:18">2021-09-01</time></span><span class="article-meta"><span class="article-meta__separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/OI/">OI</a></span></div><div class="content">题目链接
题目分析看到这道题目，第一反应就是贪心，但是模拟完样例后就发现无脑贪心是不对的。我们只能贪心的选择当前位置的最小值，但是在有些情况下，有多种不同操作都可以把最小值移到当前位置，并且不同操作间是不能贪心选择的。
于是我们观察一下题目。第 $i$ 个位置可以跟第 $2i$ 个位置和第 $2i+1$ 个位置交换。这让我们想到了二叉树。我们可以将题目等价成一棵根节点为 $1$，编号为 $i$ 的结点的左右儿子分别是 $2i$ 和 $2i+1$ 的树。
然后我们考虑维护每一个位置可以取到的数（在不影响前面已经选完的那些的情况下），我们只要贪心地按编号依次在它们能取到的数中选择最小的那一个就可以得到答案。
对于上面这个操作，我们先考虑一个位置可以取到的数在没有任何别的限制的情况下有多少个。我们发现一个结点能取到的数实际上包括这些：

这个结点的两个儿子
这个结点到根结点的路径上的所有点以及这些点的左儿子（如果这些左儿子原来不在序列里的话）

我们发现，一个结点能取到的所有点的个数是 $\log{N}$ 这个数量级的，因此对于每个结点找出它能取到的最小值，总复杂度是 $\mathcal{O ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">aa243</div><div class="author-info__description">Shoot for the moon; even if you miss, you will land among the stars.</div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">2</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">2</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/12/24/NOIP2021/" title="NOIP2021"><img src="/img/cover/13.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="NOIP2021"/></a><div class="content"><a class="title" href="/2021/12/24/NOIP2021/" title="NOIP2021">NOIP2021</a><time datetime="2021-12-24T10:00:00.000Z" title="发表于 2021-12-24 18:00:00">2021-12-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/11/21/wqs-%E4%BA%8C%E5%88%86/" title="wqs 二分"><img src="/img/cover/11.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="wqs 二分"/></a><div class="content"><a class="title" href="/2021/11/21/wqs-%E4%BA%8C%E5%88%86/" title="wqs 二分">wqs 二分</a><time datetime="2021-11-21T07:22:58.000Z" title="发表于 2021-11-21 15:22:58">2021-11-21</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/29/2021CSP-S%E6%B8%B8%E8%AE%B0/" title="2021CSP-S游记"><img src="/img/cover/12.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="2021CSP-S游记"/></a><div class="content"><a class="title" href="/2021/10/29/2021CSP-S%E6%B8%B8%E8%AE%B0/" title="2021CSP-S游记">2021CSP-S游记</a><time datetime="2021-10-29T15:51:46.000Z" title="发表于 2021-10-29 23:51:46">2021-10-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/10/10/Luogu-P6018/" title="Fusion Tree 题解"><img src="/img/cover/8.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Fusion Tree 题解"/></a><div class="content"><a class="title" href="/2021/10/10/Luogu-P6018/" title="Fusion Tree 题解">Fusion Tree 题解</a><time datetime="2021-10-10T13:59:46.000Z" title="发表于 2021-10-10 21:59:46">2021-10-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/09/14/Luogu%20P5677/" title="Luogu P5677 配对统计 题解"><img src="/img/cover/5.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Luogu P5677 配对统计 题解"/></a><div class="content"><a class="title" href="/2021/09/14/Luogu%20P5677/" title="Luogu P5677 配对统计 题解">Luogu P5677 配对统计 题解</a><time datetime="2021-09-14T09:13:49.000Z" title="发表于 2021-09-14 17:13:49">2021-09-14</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/OI/"><span class="card-category-list-name">OI</span><span class="card-category-list-count">7</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/test/"><span class="card-category-list-name">test</span><span class="card-category-list-count">3</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/OI/" style="font-size: 1.5em; color: #99a9bf">OI</a> <a href="/tags/test/" style="font-size: 1.1em; color: #999">test</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/12/"><span class="card-archive-list-date">十二月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">1</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/10/"><span class="card-archive-list-date">十月 2021</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/09/"><span class="card-archive-list-date">九月 2021</span><span class="card-archive-list-count">6</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">10</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2021-12-24T10:32:28.370Z"></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By aa243</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>